{
  "hash": "5177bcad1d991651af36a1e6d7fbc4f4",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Multivariate Optimisation Using Desirability Functions\"\nsubtitle: \"Using the {desirability2} package to optimise across multiple variables\"\nauthor: Paul Johnson\ndate: \"2024-02-10\"\nimage: math.jpg\ncategories:\n    - Optimisation\n    - Football Analytics\n    - Data Science\n    - R\n    - Tidymodels\nbibliography: references.bib\ndraft: true\n---\n\n::: {.cell}\n\n```{.r .cell-code}\n# import packages\nsuppressPackageStartupMessages({\n  library(dplyr)\n  library(gt)\n  library(worldfootballR)\n  library(desirability2)\n})\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'dplyr' was built under R version 4.3.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'worldfootballR' was built under R version 4.3.2\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'desirability2' was built under R version 4.3.2\n```\n\n\n:::\n\n```{.r .cell-code}\n# table theme\ntbl_theme <- function(x, ...) {\n    x |> \n    gt::tab_options(\n      table.width = gt::pct(100),\n      table.font.names = \"Poppins\",\n      table.font.size = 16\n    )\n}\n```\n:::\n\n\nOptimisation is the process of finding the optimal value of a function, given some specific criteria that defines what optimal looks like. Optimal often (but not always) looks like the minimum or maximum value of a function. However, the process of optimising for a minimum or maximum value becomes harder when you are dealing with more than one function. If you have multiple functions, finding the minimum or maximum value of one may take you further away from the optimal value of the others. In this case, multivariate optimisation, or the process of finding the optimal combination of values of multiple functions, is necessary.\n\nA relatively simple but effective approach to multivariate optimisation is a method called desirability functions [@harrington1965; @derringer1980]. Desirability functions convert all variables in the optimisation process into a standard scale (from 0 to 1), to combine them using either the arithmetic or geometric mean  and optimize the overall metric (Kuhn 2016, 2023; Kuhn and Johnson 2019). When converting a variable to the standard scale, it is optimised based on a defined optimal function, such as the minimum or maximum value, with 1 being the most desirable and 0 being unacceptable. This means that the mean (whether geometric or arithmetic) is an appropriate way of finding the optimal combination of values, because it captures the midpoint of all individually optimised values.\n\n# Data\n\nLet's get some data. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n# get raw data\nstandard_stats <-\n  fb_big5_advanced_season_stats(\n    season_end_year = 2023,\n    stat_type = \"standard\",\n    team_or_player = \"player\"\n  ) |>\n  janitor::clean_names(\n    replace = c(\n      \"_Playing\" = \"\",\n      \"_Expected\" = \"\",\n      \"_Progression\" = \"\",\n      \"PK\" = \"pk\",\n      \"PKatt\" = \"pk_att\",\n      \"xG\" = \"xg\",\n      \"xAG\" = \"xag\",\n      \"_Per_90\" = \"90\",\n      \"_Per\" = \"90\"\n    )\n  ) |>\n  mutate(\n    across(\n      starts_with(\"prg\"), ~ round(.x/mins90, 2), \n      .names = \"{.col}90\"\n      ),\n    position = stringr::str_split_i(pos, pattern = \",\", i = 1)\n    ) |> \n  select(player, position, squad, comp, ends_with(\"90\"))\n\nshooting_stats <-\n  fb_big5_advanced_season_stats(\n    season_end_year = 2023,\n    stat_type = \"shooting\",\n    team_or_player = \"player\"\n    ) |> \n  janitor::clean_names(replace = c(\"_Standard\" = \"\", \"_per_90\" = \"90\")) |>\n  select(player, squad, sh90, dist)\n\ngca_stats <-\n  fb_big5_advanced_season_stats(\n    season_end_year = 2023, \n    stat_type = \"gca\", \n    team_or_player = \"player\"\n  ) |>\n  janitor::clean_names(replace = c(\"_SCA\" = \"\")) |> \n  select(player, squad, sca90)\n\n# join full dataset\nbig_five_stats <-\n  standard_stats |> \n  full_join(shooting_stats) |> \n  full_join(gca_stats) |> \n  tibble() |> \n  tidyr::drop_na() |> \n  filter(mins90 > 10) |> \n  rename(team = squad, league = comp)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(player, squad)`\nJoining with `by = join_by(player, squad)`\n```\n\n\n:::\n:::\n\n\n# Ball Progression\n\nI'm not particularly sure how to weight the different measures of ball progression. It seems reasonable to weight progressive passes and carries equally, but should progressive receptions also be given equal weight? Maybe? I could see an argument for and against this, and I think any decision that is not weighting variables equally should be done based on a solid theoretical basis. Given the absence of anything like that, I'll treat them equally in this instance.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nball_progression <- \n  big_five_stats |>\n  mutate(\n    across(\n      starts_with(\"prg\"),\n      ~ d_max(.x, use_data = TRUE),\n      .names = \"d_{.col}\"\n      ),\n    d_prg = d_overall(across(starts_with(\"d_\")))\n  ) |> \n  select(player, position, team, league, starts_with(\"d_\")) |> \n  arrange(desc(d_prg))\n\nprg_tbl <-\n  function(data, cols) {\n    data |> \n    janitor::clean_names(\n      case = \"title\",  \n      replace = c(\n        \"d_prg_\" = \"Progressive \", \n        \"c90\" = \"Carrying\",\n        \"p90\" = \"Passing\",\n        \"r90\" = \"Receptions\",\n        \"d_prg\" = \"Overall\"\n        )\n      ) |> \n  gt() |> \n  fmt_number(columns = cols, decimals = 2) |> \n  tab_spanner(\n    label = \"Desirability Scores\",\n    columns = cols\n  ) |> \n  cols_align(\n    align = \"center\",\n    columns = cols\n  ) |> \n  tab_source_note(source_note = md(\"Source: FB Ref Via {worldfootballR}\"))\n  }\n\nball_progression |> \n  head(10) |> \n  prg_tbl(cols = 5:8)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"sbafkcaree\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#sbafkcaree table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#sbafkcaree thead, #sbafkcaree tbody, #sbafkcaree tfoot, #sbafkcaree tr, #sbafkcaree td, #sbafkcaree th {\n  border-style: none;\n}\n\n#sbafkcaree p {\n  margin: 0;\n  padding: 0;\n}\n\n#sbafkcaree .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#sbafkcaree .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#sbafkcaree .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#sbafkcaree .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#sbafkcaree .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#sbafkcaree .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#sbafkcaree .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#sbafkcaree .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#sbafkcaree .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#sbafkcaree .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#sbafkcaree .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#sbafkcaree .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#sbafkcaree .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#sbafkcaree .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#sbafkcaree .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbafkcaree .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#sbafkcaree .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#sbafkcaree .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#sbafkcaree .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbafkcaree .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#sbafkcaree .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbafkcaree .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#sbafkcaree .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbafkcaree .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#sbafkcaree .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#sbafkcaree .gt_left {\n  text-align: left;\n}\n\n#sbafkcaree .gt_center {\n  text-align: center;\n}\n\n#sbafkcaree .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#sbafkcaree .gt_font_normal {\n  font-weight: normal;\n}\n\n#sbafkcaree .gt_font_bold {\n  font-weight: bold;\n}\n\n#sbafkcaree .gt_font_italic {\n  font-style: italic;\n}\n\n#sbafkcaree .gt_super {\n  font-size: 65%;\n}\n\n#sbafkcaree .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#sbafkcaree .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#sbafkcaree .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#sbafkcaree .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#sbafkcaree .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#sbafkcaree .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#sbafkcaree .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Player\">Player</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Position\">Position</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Team\">Team</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"League\">League</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" scope=\"colgroup\" id=\"Desirability Scores\">\n        <span class=\"gt_column_spanner\">Desirability Scores</span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Carrying\">Progressive Carrying</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Passing\">Progressive Passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Receptions\">Progressive Receptions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Overall\">Overall</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Rayan Cherki</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">MF</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Lyon</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Ligue 1</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.81</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.52</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.66</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.65</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Kingsley Coman</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Bayern Munich</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Bundesliga</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.79</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">1.00</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.64</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Ousmane Dembélé</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Barcelona</td>\n<td headers=\"League\" class=\"gt_row gt_left\">La Liga</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">1.00</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.35</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.71</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.63</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Edon Zhegrova</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Lille</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Ligue 1</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.80</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.88</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.62</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Jeremy Doku</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">MF</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Rennes</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Ligue 1</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.89</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.37</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.58</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.58</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Jack Grealish</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Manchester City</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Premier League</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.79</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.72</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Allan Saint-Maximin</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Newcastle Utd</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Premier League</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.95</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.42</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.47</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Matteo Politano</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Napoli</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Serie A</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.79</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.41</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.56</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.57</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">João Cancelo</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">DF</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Manchester City</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Premier League</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.65</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.56</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.47</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.55</td></tr>\n    <tr><td headers=\"Player\" class=\"gt_row gt_left\">Kylian Mbappé</td>\n<td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Team\" class=\"gt_row gt_left\">Paris S-G</td>\n<td headers=\"League\" class=\"gt_row gt_left\">Ligue 1</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.67</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.31</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.79</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.55</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"8\">Source: FB Ref Via {worldfootballR}</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nball_progression |> \n  summarise(across(starts_with(\"d_\"), mean), .by = league) |> \n  arrange(desc(d_prg)) |> \n  prg_tbl(cols = 2:5)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"gjfwxqcpii\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#gjfwxqcpii table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#gjfwxqcpii thead, #gjfwxqcpii tbody, #gjfwxqcpii tfoot, #gjfwxqcpii tr, #gjfwxqcpii td, #gjfwxqcpii th {\n  border-style: none;\n}\n\n#gjfwxqcpii p {\n  margin: 0;\n  padding: 0;\n}\n\n#gjfwxqcpii .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#gjfwxqcpii .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#gjfwxqcpii .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#gjfwxqcpii .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#gjfwxqcpii .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#gjfwxqcpii .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#gjfwxqcpii .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#gjfwxqcpii .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#gjfwxqcpii .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#gjfwxqcpii .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#gjfwxqcpii .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#gjfwxqcpii .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#gjfwxqcpii .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#gjfwxqcpii .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#gjfwxqcpii .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gjfwxqcpii .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#gjfwxqcpii .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#gjfwxqcpii .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#gjfwxqcpii .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gjfwxqcpii .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#gjfwxqcpii .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gjfwxqcpii .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#gjfwxqcpii .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gjfwxqcpii .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#gjfwxqcpii .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#gjfwxqcpii .gt_left {\n  text-align: left;\n}\n\n#gjfwxqcpii .gt_center {\n  text-align: center;\n}\n\n#gjfwxqcpii .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#gjfwxqcpii .gt_font_normal {\n  font-weight: normal;\n}\n\n#gjfwxqcpii .gt_font_bold {\n  font-weight: bold;\n}\n\n#gjfwxqcpii .gt_font_italic {\n  font-style: italic;\n}\n\n#gjfwxqcpii .gt_super {\n  font-size: 65%;\n}\n\n#gjfwxqcpii .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#gjfwxqcpii .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#gjfwxqcpii .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#gjfwxqcpii .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#gjfwxqcpii .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#gjfwxqcpii .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#gjfwxqcpii .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"League\">League</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" scope=\"colgroup\" id=\"Desirability Scores\">\n        <span class=\"gt_column_spanner\">Desirability Scores</span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Carrying\">Progressive Carrying</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Passing\">Progressive Passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Receptions\">Progressive Receptions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Overall\">Overall</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"League\" class=\"gt_row gt_left\">Ligue 1</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.23</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.31</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.23</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.23</td></tr>\n    <tr><td headers=\"League\" class=\"gt_row gt_left\">La Liga</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.22</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.20</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.20</td></tr>\n    <tr><td headers=\"League\" class=\"gt_row gt_left\">Serie A</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.22</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.27</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.20</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.20</td></tr>\n    <tr><td headers=\"League\" class=\"gt_row gt_left\">Premier League</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.22</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.20</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.20</td></tr>\n    <tr><td headers=\"League\" class=\"gt_row gt_left\">Bundesliga</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.19</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.26</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.19</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.19</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"5\">Source: FB Ref Via {worldfootballR}</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nball_progression |> \n  summarise(across(starts_with(\"d_\"), mean), .by = team) |> \n  arrange(desc(d_prg))  |> \n  head(10) |> \n  prg_tbl(cols = 2:5)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"pvueekjsbi\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#pvueekjsbi table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#pvueekjsbi thead, #pvueekjsbi tbody, #pvueekjsbi tfoot, #pvueekjsbi tr, #pvueekjsbi td, #pvueekjsbi th {\n  border-style: none;\n}\n\n#pvueekjsbi p {\n  margin: 0;\n  padding: 0;\n}\n\n#pvueekjsbi .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#pvueekjsbi .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#pvueekjsbi .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#pvueekjsbi .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#pvueekjsbi .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#pvueekjsbi .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#pvueekjsbi .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#pvueekjsbi .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#pvueekjsbi .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#pvueekjsbi .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#pvueekjsbi .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#pvueekjsbi .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#pvueekjsbi .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#pvueekjsbi .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#pvueekjsbi .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pvueekjsbi .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#pvueekjsbi .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#pvueekjsbi .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#pvueekjsbi .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pvueekjsbi .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#pvueekjsbi .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pvueekjsbi .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#pvueekjsbi .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pvueekjsbi .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#pvueekjsbi .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#pvueekjsbi .gt_left {\n  text-align: left;\n}\n\n#pvueekjsbi .gt_center {\n  text-align: center;\n}\n\n#pvueekjsbi .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#pvueekjsbi .gt_font_normal {\n  font-weight: normal;\n}\n\n#pvueekjsbi .gt_font_bold {\n  font-weight: bold;\n}\n\n#pvueekjsbi .gt_font_italic {\n  font-style: italic;\n}\n\n#pvueekjsbi .gt_super {\n  font-size: 65%;\n}\n\n#pvueekjsbi .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#pvueekjsbi .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#pvueekjsbi .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#pvueekjsbi .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#pvueekjsbi .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#pvueekjsbi .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#pvueekjsbi .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Team\">Team</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" scope=\"colgroup\" id=\"Desirability Scores\">\n        <span class=\"gt_column_spanner\">Desirability Scores</span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Carrying\">Progressive Carrying</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Passing\">Progressive Passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Receptions\">Progressive Receptions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Overall\">Overall</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Bayern Munich</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.34</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.40</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.34</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.32</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Manchester City</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.34</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.42</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.30</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.31</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Barcelona</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.33</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.42</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.31</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.31</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Lille</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.30</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.41</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.30</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.30</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Real Madrid</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.32</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.41</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.30</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Arsenal</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.29</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.39</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.31</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.29</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Paris S-G</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.27</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.38</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.30</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.29</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Marseille</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.27</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.38</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.28</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Napoli</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.32</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.35</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.28</td></tr>\n    <tr><td headers=\"Team\" class=\"gt_row gt_left\">Liverpool</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.25</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.40</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.28</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.27</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"5\">Source: FB Ref Via {worldfootballR}</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nball_progression |> \n  summarise(across(starts_with(\"d_\"), mean), .by = position) |> \n  arrange(desc(d_prg))  |> \n  prg_tbl(cols = 2:5)\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<div id=\"xpobmgazuj\" style=\"padding-left:0px;padding-right:0px;padding-top:10px;padding-bottom:10px;overflow-x:auto;overflow-y:auto;width:auto;height:auto;\">\n<style>#xpobmgazuj table {\n  font-family: system-ui, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n#xpobmgazuj thead, #xpobmgazuj tbody, #xpobmgazuj tfoot, #xpobmgazuj tr, #xpobmgazuj td, #xpobmgazuj th {\n  border-style: none;\n}\n\n#xpobmgazuj p {\n  margin: 0;\n  padding: 0;\n}\n\n#xpobmgazuj .gt_table {\n  display: table;\n  border-collapse: collapse;\n  line-height: normal;\n  margin-left: auto;\n  margin-right: auto;\n  color: #333333;\n  font-size: 16px;\n  font-weight: normal;\n  font-style: normal;\n  background-color: #FFFFFF;\n  width: auto;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #A8A8A8;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #A8A8A8;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_caption {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n#xpobmgazuj .gt_title {\n  color: #333333;\n  font-size: 125%;\n  font-weight: initial;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-color: #FFFFFF;\n  border-bottom-width: 0;\n}\n\n#xpobmgazuj .gt_subtitle {\n  color: #333333;\n  font-size: 85%;\n  font-weight: initial;\n  padding-top: 3px;\n  padding-bottom: 5px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-color: #FFFFFF;\n  border-top-width: 0;\n}\n\n#xpobmgazuj .gt_heading {\n  background-color: #FFFFFF;\n  text-align: center;\n  border-bottom-color: #FFFFFF;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_bottom_border {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_col_headings {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_col_heading {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 6px;\n  padding-left: 5px;\n  padding-right: 5px;\n  overflow-x: hidden;\n}\n\n#xpobmgazuj .gt_column_spanner_outer {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: normal;\n  text-transform: inherit;\n  padding-top: 0;\n  padding-bottom: 0;\n  padding-left: 4px;\n  padding-right: 4px;\n}\n\n#xpobmgazuj .gt_column_spanner_outer:first-child {\n  padding-left: 0;\n}\n\n#xpobmgazuj .gt_column_spanner_outer:last-child {\n  padding-right: 0;\n}\n\n#xpobmgazuj .gt_column_spanner {\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: bottom;\n  padding-top: 5px;\n  padding-bottom: 5px;\n  overflow-x: hidden;\n  display: inline-block;\n  width: 100%;\n}\n\n#xpobmgazuj .gt_spanner_row {\n  border-bottom-style: hidden;\n}\n\n#xpobmgazuj .gt_group_heading {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  text-align: left;\n}\n\n#xpobmgazuj .gt_empty_group_heading {\n  padding: 0.5px;\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  vertical-align: middle;\n}\n\n#xpobmgazuj .gt_from_md > :first-child {\n  margin-top: 0;\n}\n\n#xpobmgazuj .gt_from_md > :last-child {\n  margin-bottom: 0;\n}\n\n#xpobmgazuj .gt_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  margin: 10px;\n  border-top-style: solid;\n  border-top-width: 1px;\n  border-top-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 1px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 1px;\n  border-right-color: #D3D3D3;\n  vertical-align: middle;\n  overflow-x: hidden;\n}\n\n#xpobmgazuj .gt_stub {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xpobmgazuj .gt_stub_row_group {\n  color: #333333;\n  background-color: #FFFFFF;\n  font-size: 100%;\n  font-weight: initial;\n  text-transform: inherit;\n  border-right-style: solid;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n  padding-left: 5px;\n  padding-right: 5px;\n  vertical-align: top;\n}\n\n#xpobmgazuj .gt_row_group_first td {\n  border-top-width: 2px;\n}\n\n#xpobmgazuj .gt_row_group_first th {\n  border-top-width: 2px;\n}\n\n#xpobmgazuj .gt_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xpobmgazuj .gt_first_summary_row {\n  border-top-style: solid;\n  border-top-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_first_summary_row.thick {\n  border-top-width: 2px;\n}\n\n#xpobmgazuj .gt_last_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_grand_summary_row {\n  color: #333333;\n  background-color: #FFFFFF;\n  text-transform: inherit;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xpobmgazuj .gt_first_grand_summary_row {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-top-style: double;\n  border-top-width: 6px;\n  border-top-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_last_grand_summary_row_top {\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 5px;\n  padding-right: 5px;\n  border-bottom-style: double;\n  border-bottom-width: 6px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_striped {\n  background-color: rgba(128, 128, 128, 0.05);\n}\n\n#xpobmgazuj .gt_table_body {\n  border-top-style: solid;\n  border-top-width: 2px;\n  border-top-color: #D3D3D3;\n  border-bottom-style: solid;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_footnotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_footnote {\n  margin: 0px;\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xpobmgazuj .gt_sourcenotes {\n  color: #333333;\n  background-color: #FFFFFF;\n  border-bottom-style: none;\n  border-bottom-width: 2px;\n  border-bottom-color: #D3D3D3;\n  border-left-style: none;\n  border-left-width: 2px;\n  border-left-color: #D3D3D3;\n  border-right-style: none;\n  border-right-width: 2px;\n  border-right-color: #D3D3D3;\n}\n\n#xpobmgazuj .gt_sourcenote {\n  font-size: 90%;\n  padding-top: 4px;\n  padding-bottom: 4px;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n#xpobmgazuj .gt_left {\n  text-align: left;\n}\n\n#xpobmgazuj .gt_center {\n  text-align: center;\n}\n\n#xpobmgazuj .gt_right {\n  text-align: right;\n  font-variant-numeric: tabular-nums;\n}\n\n#xpobmgazuj .gt_font_normal {\n  font-weight: normal;\n}\n\n#xpobmgazuj .gt_font_bold {\n  font-weight: bold;\n}\n\n#xpobmgazuj .gt_font_italic {\n  font-style: italic;\n}\n\n#xpobmgazuj .gt_super {\n  font-size: 65%;\n}\n\n#xpobmgazuj .gt_footnote_marks {\n  font-size: 75%;\n  vertical-align: 0.4em;\n  position: initial;\n}\n\n#xpobmgazuj .gt_asterisk {\n  font-size: 100%;\n  vertical-align: 0;\n}\n\n#xpobmgazuj .gt_indent_1 {\n  text-indent: 5px;\n}\n\n#xpobmgazuj .gt_indent_2 {\n  text-indent: 10px;\n}\n\n#xpobmgazuj .gt_indent_3 {\n  text-indent: 15px;\n}\n\n#xpobmgazuj .gt_indent_4 {\n  text-indent: 20px;\n}\n\n#xpobmgazuj .gt_indent_5 {\n  text-indent: 25px;\n}\n</style>\n<table class=\"gt_table\" data-quarto-disable-processing=\"false\" data-quarto-bootstrap=\"false\">\n  <thead>\n    <tr class=\"gt_col_headings gt_spanner_row\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_left\" rowspan=\"2\" colspan=\"1\" scope=\"col\" id=\"Position\">Position</th>\n      <th class=\"gt_center gt_columns_top_border gt_column_spanner_outer\" rowspan=\"1\" colspan=\"4\" scope=\"colgroup\" id=\"Desirability Scores\">\n        <span class=\"gt_column_spanner\">Desirability Scores</span>\n      </th>\n    </tr>\n    <tr class=\"gt_col_headings\">\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Carrying\">Progressive Carrying</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Passing\">Progressive Passing</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Progressive Receptions\">Progressive Receptions</th>\n      <th class=\"gt_col_heading gt_columns_bottom_border gt_center\" rowspan=\"1\" colspan=\"1\" scope=\"col\" id=\"Overall\">Overall</th>\n    </tr>\n  </thead>\n  <tbody class=\"gt_table_body\">\n    <tr><td headers=\"Position\" class=\"gt_row gt_left\">FW</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.30</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.19</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.38</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.27</td></tr>\n    <tr><td headers=\"Position\" class=\"gt_row gt_left\">MF</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.22</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.36</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.18</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.22</td></tr>\n    <tr><td headers=\"Position\" class=\"gt_row gt_left\">DF</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.17</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.27</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.13</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.16</td></tr>\n    <tr><td headers=\"Position\" class=\"gt_row gt_left\">GK</td>\n<td headers=\"Progressive Carrying\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"Progressive Passing\" class=\"gt_row gt_center\">0.01</td>\n<td headers=\"Progressive Receptions\" class=\"gt_row gt_center\">0.00</td>\n<td headers=\"Overall\" class=\"gt_row gt_center\">0.00</td></tr>\n  </tbody>\n  <tfoot class=\"gt_sourcenotes\">\n    <tr>\n      <td class=\"gt_sourcenote\" colspan=\"5\">Source: FB Ref Via {worldfootballR}</td>\n    </tr>\n  </tfoot>\n  \n</table>\n</div>\n```\n\n:::\n:::\n\n\n# Goal Threat\n\n\n::: {.cell}\n\n```{.r .cell-code}\ngoal_threat <- \n  big_five_stats |>\n  mutate(\n    across(\n      .cols = c(g_minus_pk90, npxg90, sh90),\n      ~ d_max(.x, use_data = TRUE),\n      .names = \"d_{.col}\"\n      ),\n    d_goals = d_overall(across(starts_with(\"d_\")))\n  ) |> \n  select(player, team, league, position, g_minus_pk90, npxg90, sh90, starts_with(\"d_\")) |> \n  arrange(desc(d_goals))\n\ngoal_threat |> \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 11\n   player              team            league  position g_minus_pk90 npxg90  sh90 d_g_minus_pk90 d_npxg90 d_sh90 d_goals\n   <chr>               <chr>           <chr>   <chr>           <dbl>  <dbl> <dbl>          <dbl>    <dbl>  <dbl>   <dbl>\n 1 Kylian Mbappé       Paris S-G       Ligue 1 FW               0.83   0.71  4.6           0.883    0.947  0.950   0.926\n 2 Erling Haaland      Manchester City Premie… FW               0.94   0.75  3.77          1        1      0.778   0.920\n 3 Victor Osimhen      Napoli          Serie A FW               0.84   0.66  4.63          0.894    0.88   0.956   0.909\n 4 Robert Lewandowski  Barcelona       La Liga FW               0.73   0.74  4.24          0.777    0.987  0.875   0.875\n 5 Lautaro Martínez    Inter           Serie A FW               0.7    0.58  4.37          0.745    0.773  0.902   0.804\n 6 Callum Wilson       Newcastle Utd   Premie… FW               0.72   0.72  3.36          0.766    0.96   0.692   0.798\n 7 Loïs Openda         Lens            Ligue 1 FW               0.72   0.63  3.68          0.766    0.84   0.759   0.787\n 8 Karim Benzema       Real Madrid     La Liga FW               0.53   0.66  4.37          0.564    0.88   0.902   0.765\n 9 Darwin Núñez        Liverpool       Premie… FW               0.48   0.64  4.46          0.511    0.853  0.921   0.738\n10 Alexandre Lacazette Lyon            Ligue 1 FW               0.65   0.55  3.29          0.691    0.733  0.678   0.700\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngoal_threat |> \n  summarise(across(starts_with(\"d_\"), mean), .by = league) |> \n  arrange(desc(d_goals))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 5 × 5\n  league         d_g_minus_pk90 d_npxg90 d_sh90 d_goals\n  <chr>                   <dbl>    <dbl>  <dbl>   <dbl>\n1 Bundesliga              0.156    0.182  0.256   0.177\n2 Premier League          0.139    0.181  0.252   0.167\n3 Serie A                 0.128    0.166  0.268   0.161\n4 Ligue 1                 0.128    0.171  0.246   0.155\n5 La Liga                 0.119    0.163  0.248   0.149\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngoal_threat |> \n  summarise(across(starts_with(\"d_\"), mean), .by = team) |> \n  arrange(desc(d_goals))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 98 × 5\n   team            d_g_minus_pk90 d_npxg90 d_sh90 d_goals\n   <chr>                    <dbl>    <dbl>  <dbl>   <dbl>\n 1 Bayern Munich            0.285    0.296  0.377   0.307\n 2 Arsenal                  0.238    0.308  0.353   0.288\n 3 Dortmund                 0.254    0.274  0.329   0.275\n 4 Newcastle Utd            0.207    0.285  0.348   0.258\n 5 Inter                    0.199    0.253  0.349   0.246\n 6 Brighton                 0.191    0.271  0.337   0.241\n 7 Paris S-G                0.225    0.248  0.285   0.240\n 8 Manchester City          0.230    0.241  0.305   0.239\n 9 Barcelona                0.191    0.26   0.306   0.237\n10 Liverpool                0.217    0.251  0.325   0.233\n# ℹ 88 more rows\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ngoal_threat |> \n  summarise(across(starts_with(\"d_\"), mean), .by = position) |> \n  arrange(desc(d_goals))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 5\n  position d_g_minus_pk90 d_npxg90  d_sh90 d_goals\n  <chr>             <dbl>    <dbl>   <dbl>   <dbl>\n1 FW               0.319   0.394   0.491    0.383 \n2 MF               0.112   0.146   0.259    0.141 \n3 DF               0.0468  0.0693  0.119    0.0544\n4 GK               0       0.00333 0.00390  0     \n```\n\n\n:::\n:::\n\n\n# Chance Creation\n\n\n::: {.cell}\n\n```{.r .cell-code}\nchance_creation <- \n  big_five_stats |>\n  mutate(\n    across(\n      .cols = c(ast90, xag90, sca90),\n      ~ d_max(.x, use_data = TRUE),\n      .names = \"d_{.col}\"\n      ),\n    d_chances = d_overall(across(starts_with(\"d_\")))\n  ) |> \n  select(player, team, league, position, ast90, xag90, sca90, starts_with(\"d_\")) |> \n  arrange(desc(d_chances))\n\nchance_creation |> \n  head(10)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 10 × 11\n   player            team            league         position ast90 xag90 sca90 d_ast90 d_xag90 d_sca90 d_chances\n   <chr>             <chr>           <chr>          <chr>    <dbl> <dbl> <dbl>   <dbl>   <dbl>   <dbl>     <dbl>\n 1 Kevin De Bruyne   Manchester City Premier League MF        0.6   0.51  6.55   0.619   1       0.986     0.848\n 2 Neymar            Paris S-G       Ligue 1        MF        0.64  0.51  6.11   0.660   1       0.920     0.847\n 3 Leandro Trossard  Arsenal         Premier League FW        0.97  0.46  3.29   1       0.902   0.495     0.765\n 4 Lionel Messi      Paris S-G       Ligue 1        FW        0.51  0.43  6.25   0.526   0.843   0.941     0.747\n 5 Antoine Griezmann Atlético Madrid La Liga        FW        0.5   0.44  5.1    0.515   0.863   0.768     0.699\n 6 Gerard Deulofeu   Udinese         Serie A        FW        0.45  0.33  6.09   0.464   0.647   0.917     0.651\n 7 Rémy Cabella      Lille           Ligue 1        MF        0.36  0.38  6.45   0.371   0.745   0.971     0.645\n 8 Edon Zhegrova     Lille           Ligue 1        FW        0.34  0.39  6.64   0.351   0.765   1         0.645\n 9 Florian Wirtz     Leverkusen      Bundesliga     FW        0.5   0.32  5.28   0.515   0.627   0.795     0.636\n10 Riyad Mahrez      Manchester City Premier League FW        0.47  0.33  5.44   0.485   0.647   0.819     0.636\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nchance_creation |> \n  summarise(across(starts_with(\"d_\"), mean), .by = position) |> \n  arrange(desc(d_chances))\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 4 × 5\n  position d_ast90 d_xag90 d_sca90 d_chances\n  <chr>      <dbl>   <dbl>   <dbl>     <dbl>\n1 FW       0.152   0.294    0.443    0.245  \n2 MF       0.113   0.227    0.407    0.194  \n3 DF       0.0565  0.117    0.211    0.0876 \n4 GK       0.00387 0.00490  0.0427   0.00453\n```\n\n\n:::\n:::\n\n\n# Identifying the \"Best\" Offensive Players\n\nWe could try and just take the overall desirability score of our three overall desirability scores, for goals, chance creation, and progression.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbest_players <- \n  goal_threat |> \n  full_join(chance_creation) |> \n  full_join(ball_progression) |> \n  mutate(\n    d_best_players = d_overall(across(.cols = c(d_goals, d_chances, d_prg)))\n  ) |> \n  select(player, team, league, position, d_goals, d_chances, d_prg, d_best_players) |> \n  arrange(desc(d_best_players))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nJoining with `by = join_by(player, team, league, position)`\nJoining with `by = join_by(player, team, league, position)`\n```\n\n\n:::\n\n```{.r .cell-code}\nbest_players |> \n  head(20)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 20 × 8\n   player            team            league         position d_goals d_chances d_prg d_best_players\n   <chr>             <chr>           <chr>          <chr>      <dbl>     <dbl> <dbl>          <dbl>\n 1 Lionel Messi      Paris S-G       Ligue 1        FW         0.669     0.747 0.495          0.628\n 2 Neymar            Paris S-G       Ligue 1        MF         0.530     0.847 0.518          0.615\n 3 Kingsley Coman    Bayern Munich   Bundesliga     FW         0.513     0.570 0.641          0.572\n 4 Kylian Mbappé     Paris S-G       Ligue 1        FW         0.926     0.371 0.545          0.572\n 5 Edon Zhegrova     Lille           Ligue 1        FW         0.439     0.645 0.616          0.559\n 6 Ousmane Dembélé   Barcelona       La Liga        FW         0.418     0.615 0.629          0.545\n 7 Kevin De Bruyne   Manchester City Premier League MF         0.338     0.848 0.538          0.536\n 8 Raphinha          Barcelona       La Liga        FW         0.498     0.584 0.521          0.533\n 9 Antoine Griezmann Atlético Madrid La Liga        FW         0.572     0.699 0.377          0.532\n10 Rafael Leão       Milan           Serie A        FW         0.607     0.477 0.466          0.513\n11 Gerard Deulofeu   Udinese         Serie A        FW         0.379     0.651 0.522          0.505\n12 Rayan Cherki      Lyon            Ligue 1        MF         0.339     0.569 0.653          0.501\n13 Marco Asensio     Real Madrid     La Liga        FW         0.592     0.543 0.373          0.493\n14 Rodrygo           Real Madrid     La Liga        FW         0.540     0.492 0.443          0.490\n15 Vinicius Júnior   Real Madrid     La Liga        FW         0.427     0.514 0.537          0.490\n16 Jamal Musiala     Bayern Munich   Bundesliga     MF         0.503     0.549 0.422          0.488\n17 Serge Gnabry      Bayern Munich   Bundesliga     FW         0.682     0.415 0.404          0.485\n18 Ademola Lookman   Atalanta        Serie A        FW         0.513     0.526 0.423          0.485\n19 Donyell Malen     Dortmund        Bundesliga     FW         0.606     0.456 0.412          0.484\n20 Mohamed Salah     Liverpool       Premier League FW         0.614     0.432 0.426          0.484\n```\n\n\n:::\n:::\n\n\nHowever, at a glance, there are a few surprises in here. I think everyone in the top 20 is very good, but several players probably don't belong quite as high as they are in this ranking. Kingsley Coman, Edon Zhegrova, and Raphinha all jumped out at me, but they're not the only ones. \n\nAlthough part of this will be league effects, one of the biggest issues is the fact that every variable that has gone into the desirability functions has been treated with equal weight. I don't think progressive receptions should be treated as though they are equally as valuable as goals.\n\nDesirability functions allow for the weighting of the parameters that make up the function, however, the difficulty here is I'm not entirely sure how I should weight these.\n\n## Acknowledgments {.appendix}\n\nPreview image by [Dan Cristian Pădureț](https://unsplash.com/@dancristianpaduret) on [Unsplash](https://unsplash.com/photos/a-blackboard-with-a-bunch-of-diagrams-on-it-h3kuhYUCE9A).\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}