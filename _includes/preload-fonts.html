<!-- Optimized Font Preloading - Match Actual Font Files -->
<!-- Preload fonts in order of importance -->

<!-- 1. Most critical: Body text font (Poppins Regular) -->
<link rel="preload" href="assets/fonts/Poppins-Regular.woff2" as="font" type="font/woff2" crossorigin>

<!-- 2. Navigation and emphasis (Poppins Medium) -->
<!-- <link rel="preload" href="assets/fonts/Poppins-Medium.woff2" as="font" type="font/woff2" crossorigin> -->

<!-- 3. Headings (Lora Variable) -->
<!-- <link rel="preload" href="assets/fonts/Lora-VariableFont_wght.woff2" as="font" type="font/woff2" crossorigin> -->

<!-- Font loading optimization script -->
<!-- <script>
    // Optimize font loading to prevent FOIT (Flash of Invisible Text)
    (function () {
        'use strict';

        if ('fonts' in document) {
            // Track loading state
            let fontsLoaded = 0;
            const totalFonts = 3; // Number of critical fonts

            function checkFontsLoaded() {
                fontsLoaded++;
                if (fontsLoaded >= 2) { // At least 2 critical fonts loaded
                    document.documentElement.classList.add('fonts-loaded');
                }
            }

            // Load critical fonts with proper fallbacks
            const fontPromises = [
                document.fonts.load('400 16px Poppins').then(checkFontsLoaded).catch(() => { }),
                document.fonts.load('500 16px Poppins').then(checkFontsLoaded).catch(() => { }),
                document.fonts.load('400 24px Lora').then(checkFontsLoaded).catch(() => { })
            ];

            // Fallback: show text after 2 seconds even if fonts fail
            setTimeout(function () {
                if (!document.documentElement.classList.contains('fonts-loaded')) {
                    document.documentElement.classList.add('fonts-loaded');
                }
            }, 2000); // Reduced from 3000ms for better UX

            // Load remaining fonts after critical ones
            Promise.all(fontPromises.slice(0, 2)).then(function () {
                // Load remaining fonts asynchronously
                setTimeout(function () {
                    document.fonts.load('700 16px Poppins'); // Bold
                    document.fonts.load('400 16px Poppins', 'italic'); // Italic
                    document.fonts.load('400 16px "Fira Code"'); // Code font
                }, 100);
            });

        } else {
            // Fallback for older browsers
            document.documentElement.classList.add('fonts-loaded');
        }
    })();
</script> -->

<!-- Preload other font weights after critical path -->
<!-- <script>
    document.addEventListener('DOMContentLoaded', function () {
        // Use requestIdleCallback for non-critical font preloading
        const loadRemainingFonts = function () {
            const remainingFonts = [
                'assets/fonts/Poppins-Bold.woff2',
                'assets/fonts/Poppins-Italic.woff2',
                'assets/fonts/FiraCode-VariableFont_wght.woff2'
            ];

            remainingFonts.forEach(function (fontUrl) {
                const link = document.createElement('link');
                link.rel = 'preload';
                link.as = 'font';
                link.type = 'font/woff2';
                link.crossOrigin = 'anonymous';
                link.href = fontUrl;
                document.head.appendChild(link);
            });
        };

        if ('requestIdleCallback' in window) {
            requestIdleCallback(loadRemainingFonts, { timeout: 1000 });
        } else {
            setTimeout(loadRemainingFonts, 1000);
        }
    });
</script> -->
